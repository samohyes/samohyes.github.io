<!DOCTYPE html>
<html lang="">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Android reverse: Https packet and IDEA debugging"/>




  <meta name="keywords" content="2017,Android reverse," />





  <link rel="alternate" href="/default" title="Xudong">




  <link rel="shortcut icon" type="image/x-icon" href="/1.jpg?v=1.1" />



<link rel="canonical" href="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/"/>


<meta name="description" content="So today we will try to decode the https packet and debug with IDEA. HTTPS packet You need to redirect the traffic through the fiddler. So the key point here is">
<meta name="keywords" content="2017,Android reverse">
<meta property="og:type" content="article">
<meta property="og:title" content="Android reverse: Https packet and IDEA debugging">
<meta property="og:url" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/index.html">
<meta property="og:site_name" content="Xudong">
<meta property="og:description" content="So today we will try to decode the https packet and debug with IDEA. HTTPS packet You need to redirect the traffic through the fiddler. So the key point here is you can install the fiddler’s certifica">
<meta property="og:image" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/1.PNG">
<meta property="og:image" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/2.PNG">
<meta property="og:image" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/3.PNG">
<meta property="og:image" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/4.PNG">
<meta property="og:image" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/5.PNG">
<meta property="og:image" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/6.PNG">
<meta property="og:image" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/7.PNG">
<meta property="og:updated_time" content="2017-12-31T21:39:20.975Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android reverse: Https packet and IDEA debugging">
<meta name="twitter:description" content="So today we will try to decode the https packet and debug with IDEA. HTTPS packet You need to redirect the traffic through the fiddler. So the key point here is you can install the fiddler’s certifica">
<meta name="twitter:image" content="http://samohyes.github.io/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/1.PNG">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> Android reverse: Https packet and IDEA debugging - Xudong </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Xudong</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Android reverse: Https packet and IDEA debugging
        
      </h1>

      <time class="post-time">
          Dec 27 2017
      </time>
    </header>



    
            <div class="post-content">
            <p>So today we will try to decode the https packet and debug with IDEA.</p>
<p><b><i><u>HTTPS packet<b><i><u></u></i></b></u></i></b></p>
<p>You need to redirect the traffic through the fiddler. So the key point here is you can install the fiddler’s certificate and then you can decode those https packet.</p>
<img src="/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/1.PNG">
<p>Click here to install the certificate. After that, you are able to see those Https traffic now.</p>
<p><b><i><u>IDEA debugging<b><i><u></u></i></b></u></i></b></p>
<p>For <b><i>IDEA</i></b> debugging, make sure you install the smalidea plugin. Install the apk in the emulator and start it in the adb. Let’s say you want to debug it at the beginning of the program.</p>
<img src="/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/2.PNG">
<p>The app’s name should be <b><i>com.sfbest.mapp</i></b>. And the module name is <b><i>module/guide/GuideActivity</i></b>. You can start it in the adb like this.</p>
<img src="/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/3.PNG">
<p>Now, import the project to IDEA. Make sure you disassemble the apk so you know the path of the smali file. Also make sure that you add this piece of code in the .xml file otherwise you won’t be able to debug the app.</p>
<img src="/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/4.PNG">
<p>Then open the ddms.</p>
<img src="/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/5.PNG">
<p>See that 8700 port. </p>
<img src="/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/6.PNG">
<p>Go to <b><i>run-&gt; Edit configuration</i></b> and set the port to 8700. And just run it. You can set breakpoints and see those variables.</p>
<img src="/2017/12/27/Android-reverse-Https-packet-and-IDEA-debugging/7.PNG"> 
<p>So yeah, any question please contact me <b><i>xudong_shao@hotmail.com</i></b></p>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/2017/">2017</a>
		  
			<a href="/tags/Android-reverse/">Android reverse</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2017/12/31/Malware-analysis-a-wrapped-bat-ransomware/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Malware analysis: a wrapped bat ransomware</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2017/12/27/Unpacking-Magniber-with-PE-sieve/">
        <span class="next-text nav-default">Unpacking: Magniber with PE-sieve</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2017
    <span class="footer-author">Xudong.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
